## vue核心
mvvm+dom-diff

### mvvm 
编译模板+数据劫持+数据监听+发布订阅
编译模板：1 编译元素 v-model/v-bind... 2 编译文本 {{name}}
编译的核心是通过数据监听（watch）得知数据的变化
数据监听的原理就是数据劫持(defineProperty)
当数据有异动时,内置的get()可以得异动的变量，set()可以给变量重新赋值
视图层的文本就会变化

### defineProperty进行数据劫持的优缺点
优点：
基于一维数组或者基本类型可以直接进行数据劫持
对于一维数组内置的方法（push,splice...） 也可以通过劫持进行重构 加入自定义的操作

缺点：
对于多维数组对象
对于多维数组内置的方法（push,splice...） 需要通过递归变成一维数组 然后通过劫持进行重构 加入自定义的操作

### 基本类型
基本类型都是深拷贝
数值 字符串 布尔 null undefined

### 引用类型
引用类型都是浅拷贝
数组 对象 函数 Date RegExp

### 流程
简化取值/赋值：defineProperty函数 vm._data.msg 变为 vm.msg
进行数据劫持
数据如是数组，新建原型对象，重构一套数组的方法，赋还给数据的原型对象
遍历数据，开始监听
当前项如是对象说明是多维，进行递归，变为多维
因为data的所有项都被监听，可通过get() set()打印每一项数据变动前后的情况