<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>路由-hash-history</title>
</head>
<body>
    <!-- hash: 有#，刷新不会报错, 因为是在已有url后面追加# -->
    <a href="#/home">首页</a>
    <a href="#/about">关于</a>
    <!-- history： 刷新会报错404，因为路由对应的页面不存在-->
    <a onclick="go('/home')">首页2</a>
    <a onclick="go('/about1')">关于1</a>
    <a onclick="go('/about2')">关于2</a>
    <a onclick="go('/about3')">关于3</a>

    <!-- 显示展示 -->
    <div id="content"></div>

    <script>
        //hash
        // window.addEventListener('load', ()=>{
        //     content.innerHTML = location.hash.slice(1); //去掉hash中#
        // })
        // window.addEventListener('hashchange', ()=>{
        //     content.innerHTML = location.hash.slice(1); //去掉hash中#
        // })

        //history
        function go(pathname) {
            //state: 可通过history.state读取
            //title: 
            //url: 改变后的url
            history.pushState({}, null, pathname);
            content.innerHTML = pathname;
        }
        //http://localhost:8080/about3 ---- 不存在 ---- 需要后端跳转 ----返回真实地址
        //监听回退
        window.addEventListener('popstate', ()=>{
            console.log(location.pathname);
            content.innerHTML = location.pathname;
        })
    </script>
</body>
</html>